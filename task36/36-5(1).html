<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XMLHttpRequest</title>
</head>
<body>

    
    <button id="myButton">点我</button>
    <script>
        myButton.addEventListener('click',function(e){   
            let request=new XMLHttpRequest()
            request.onreadystatechange=()=>{
                if(request.readyState===4){
                    console.log('请求响应都完毕了')
                    if(request.status>=200&&request.status<300){
                        console.log("说明请求成功")
                        console.log(request.responseText)
                    //XML处理
                        // let parser=new DOMParser()
                        // let xmlDoc=parser.parseFromString(request.responseText,'text/xml')
                        // let c=xmlDoc.getElementsByTagName('body')[0].textContent
                        // let title=xmlDoc.getElementsByTagName('heading')[0].textContent
                        // console.log(c)
                    
                    //json处理
                        let string=request.responseText
                        let object=window.JSON.parse(string)
                        console.log(object)
                    }else if(request.status>=400){
                        console.log('请求失败')
                    }
                }

            }
            request.open('GET',"/xxx") //初始化请求，配置request请求方式
            request.send()

        })
    </script>

        
    <!-- <script>//1 2 3 4
        let request=new XMLHttpRequest()
        request.onreadystatechange=()=>{
            console.log(request.readyState)
        }
        request.open('GET',"/xxx") //初始化请求，配置request请求方式
       
        request.send()
    </script> -->

<!-- <script>//2 3 4
    let request=new XMLHttpRequest()   
    request.open('GET',"/xxx") //初始化请求，配置request请求方式
    request.onreadystatechange=()=>{
        console.log(request.readyState)
    }
   
    request.send()
</script> -->

    <!-- <script>//2 3 4
    let request=new XMLHttpRequest()   
    request.open('GET',"/xxx") //初始化请求，配置request请求方式 
    request.send()
    request.onreadystatechange=()=>{
        console.log(request.readyState)
    }
</script> -->
    
</body>
</html>